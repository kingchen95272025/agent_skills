# PM Skill 产品经理业务逻辑整理助手

这是一个帮助产品经理整理业务逻辑的 Claude Code Skill，专注于数据实体分析和业务流程梳理。

## Skill 结构

```
pm-skill/
├── SKILL.md                 # 主文件：核心工作流程和全局约束
├── README.md                # 本文件：使用说明
└── phases/                  # 阶段指南文件夹
    ├── 01-collect.md        # 第一阶段：收集
    ├── 02-analyze.md        # 第二阶段：分析
    └── 03-document.md       # 第三阶段：文档
```

## 适用人群

- **产品经理**：不需要懂技术，只需要描述业务需求
- **业务分析师**：需要深入了解系统实现细节
- **项目经理**：需要评估变更影响范围

## 何时使用这个 Skill

当你需要：

- 了解现有系统的业务逻辑
- 分析数据实体之间的关系
- 评估需求变更的影响范围
- 梳理业务流程和状态流转
- 为新功能设计提供数据参考

Claude 会自动识别并使用这个 Skill。

## 三阶段工作流

```
收集 (Collect) → 分析 (Analyze) → 文档 (Document)
```

1. **收集** - 全面收集数据实体、Model、表结构、业务代码
2. **分析** - 深入分析实体关系、业务规则、状态流转
3. **文档** - 输出产品经理可理解的业务文档

## 核心特点：数据维度分析

### 什么是数据维度？

数据维度是指数据的粒度和层级，帮助理解数据的业务含义：

| 维度类型 | 说明 | 示例 |
|----------|------|------|
| 主实体维度 | 业务核心对象 | 订单、用户、商品 |
| 明细维度 | 依附于主实体的详细数据 | 订单明细、购物车明细 |
| 关联维度 | 连接两个实体的数据 | 用户-角色关联 |
| 日志维度 | 记录变更历史 | 状态变更日志 |
| 配置维度 | 系统配置参数 | 运费模板、优惠规则 |

### 为什么维度分析重要？

- **需求评估**：了解变更涉及哪些数据
- **影响分析**：明确变更会影响哪些关联数据
- **报表统计**：确定统计的数据粒度
- **接口理解**：理解数据的层次结构

## 数据获取方式

### 方式一：读取 Model 文件
- 分析 Laravel/PHP Model 的定义
- 理解字段、关联关系、访问器等

### 方式二：数据库 MCP
- 直接查询数据库获取表结构
- 获取字段类型、索引、外键等信息

### 方式三：组合使用
- Model + 数据库信息交叉验证
- 获取最完整的实体信息

## 使用示例

### 示例1：整理现有业务

```
用户：帮我整理订单模块的业务逻辑

Claude：好的，让我先收集订单相关的数据实体...
       [收集阶段]
       收集完成，包括订单主表、订单明细、状态日志...
       [分析阶段]
       分析完成，我来生成业务文档...
       [文档阶段]
```

### 示例2：评估变更影响

```
用户：我想在订单中增加运费险，帮我分析影响

Claude：好的，让我分析现有订单结构和相关业务...
       [收集并分析]
       增加运费险会影响：
       - 数据：orders 表新增字段
       - 逻辑：订单创建、金额计算
       - 接口：创建和查询接口
       详细分析正在生成文档...
```

### 示例3：理解数据关系

```
用户：帮我分析用户、订单、商品之间的关系

Claude：好的，让我收集这三个实体的信息...
       [收集]
       - 用户(users) - 一对多 - 订单(orders)
       - 订单(orders) - 一对多 - 订单明细(order_items)
       - 订单明细(order_items) - 多对一 - 商品(products)
       我来生成关系图...
```

## 输出文档类型

| 文档类型 | 说明 |
|----------|------|
| 实体说明文档 | 数据实体的业务语言说明 |
| 实体关系图 | ER图（Mermaid格式） |
| 业务流程图 | 流程图（Mermaid格式） |
| 状态流转图 | 状态机图（Mermaid格式） |
| 变更影响分析 | 需求变更的影响评估 |

## 全局约束

- 使用 ultrathink 模式深度思考
- 使用业务语言而非技术语言
- 注重数据维度分析
- 执行任务前建立 To-dos
- 所有文档输出到文件

## 与其他 Skill 的配合

| 场景 | 推荐 Skill |
|------|-----------|
| 业务逻辑整理 | pm-skill |
| 快速开发实现 | vibe-skill |
| 复杂功能开发 | kiro-laravel-skill |
| PRD 文档编写 | prd-skill |

## 注意事项

1. **需要项目代码支持** - 最好有 Model 文件或数据库连接
2. **复杂模块分批处理** - 大型业务可分模块逐步整理
3. **输出需要验证** - 建议与开发确认分析结果
4. **业务语言为主** - 所有输出使用产品经理能理解的语言

## 工作风格

PM 采用产品经理友好的交互方式：

- 用业务语言沟通，避免技术术语
- 将代码实现翻译为业务流程
- 主动发现隐藏的业务规则
- 提供可视化的关系图表
- 为变更提供影响范围评估

通过这种系统化的业务整理方式，帮助产品经理深入理解系统实现，做出更好的产品决策。
