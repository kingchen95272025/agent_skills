# 第四阶段：需求评审

## 阶段目标

多维度评估PRD质量，确保可执行性和业务价值，为文档优化提供客观依据。

## 前置条件

- 已完成需求调研、产品规划和文档撰写阶段
- 存在 `.claude/prd/{功能名}/draft.md` 文件
- PRD文档草稿已获得用户初步认可

## 评估维度

### 1. 需求完整性（25%）

评估PRD是否完整覆盖了所有必要的需求和场景。

**评分标准**：

- **功能覆盖度**（10分）
  - 是否覆盖所有核心功能
  - 是否考虑了主要业务场景
  - 是否描述了用户角色和权限

- **边界条件**（8分）
  - 是否定义了功能边界
  - 是否说明了什么不做
  - 是否考虑了约束条件

- **异常处理**（7分）
  - 是否考虑了异常场景
  - 是否定义了错误处理规则
  - 是否有容错机制

### 2. 可执行性（25%）

评估PRD是否清晰、具体，便于开发团队理解和实现。

**评分标准**：

- **开发理解度**（10分）
  - 需求描述是否清晰无歧义
  - 界面设计说明是否充分
  - 业务规则是否定义明确

- **资源匹配度**（8分）
  - 工作量评估是否合理
  - 是否考虑了技术可行性
  - 是否匹配团队能力

- **验收标准**（7分）
  - 是否定义了明确的验收标准
  - 验收标准是否可测试
  - 是否包含测试方法

### 3. 用户价值（20%）

评估PRD是否真正解决用户问题，创造业务价值。

**评分标准**：

- **需求匹配度**（8分）
  - 是否解决了用户痛点
  - 是否满足业务目标
  - 是否符合用户期望

- **体验设计**（7分）
  - 用户流程是否简洁高效
  - 界面设计是否友好易用
  - 交互反馈是否及时准确

- **价值创造**（5分）
  - 是否能提升业务效率
  - 是否能降低运营成本
  - 是否有明确的ROI

### 4. 业务逻辑（20%）

评估PRD的业务逻辑是否合理、完整、一致。

**评分标准**：

- **流程合理性**（8分）
  - 业务流程是否符合实际
  - 流程设计是否高效
  - 是否考虑了流程优化

- **规则完整性**（7分）
  - 业务规则是否完整
  - 规则定义是否准确
  - 是否考虑了规则冲突

- **数据一致性**（5分）
  - 数据模型是否合理
  - 数据关系是否准确
  - 是否保证数据一致性

### 5. 文档质量（10%）

评估PRD文档本身的质量和规范性。

**评分标准**：

- **结构清晰度**（4分）
  - 文档结构是否合理
  - 章节组织是否清晰
  - 是否易于查找信息

- **描述准确性**（3分）
  - 术语使用是否准确
  - 描述是否准确无误
  - 是否避免了歧义

- **格式规范性**（3分）
  - 格式是否统一规范
  - 图表是否清晰完整
  - 是否便于阅读理解

## 工作内容

### 1. 全面分析文档一致性

- 检查 research.md、architecture.md、draft.md 的一致性
- 确认需求调研的问题在PRD中得到解决
- 确认产品规划的架构在PRD中得到体现
- 识别文档之间的不一致之处

### 2. 多维度评估PRD质量

- 按照评估维度逐项评分
- 记录发现的问题和改进建议
- 分析问题的优先级和影响范围
- 提供具体的优化方案

### 3. 创建评审报告

创建 `.claude/prd/{功能名}/review.md`，包含以下内容：

## 评审报告标准结构

```markdown
# {功能名}需求评审报告

## 评审概要

- **评审时间**：YYYY-MM-DD
- **评审版本**：draft.md v1.0
- **综合得分**：X.X分（满分10分）
- **评审结论**：[优秀/良好/需要优化/必须优化]

## 评分详情

### 1. 需求完整性（25%）

| 评估项 | 权重 | 得分 | 说明 |
|--------|------|------|------|
| 功能覆盖度 | 10% | X.X | [评估说明] |
| 边界条件 | 8% | X.X | [评估说明] |
| 异常处理 | 7% | X.X | [评估说明] |
| **小计** | **25%** | **X.X** | |

**优点**：
- [列出做得好的地方]

**问题**：
- [列出发现的问题]

**建议**：
- [提供具体的改进建议]

### 2. 可执行性（25%）

[同上结构]

### 3. 用户价值（20%）

[同上结构]

### 4. 业务逻辑（20%）

[同上结构]

### 5. 文档质量（10%）

[同上结构]

## 综合评估

### 主要优点

1. [优点1]
2. [优点2]
3. [优点3]

### 主要问题

按优先级排序：

**P0（严重问题，必须修复）**：
1. [问题描述] - 影响范围：[说明] - 建议方案：[说明]

**P1（重要问题，建议修复）**：
1. [问题描述] - 影响范围：[说明] - 建议方案：[说明]

**P2（次要问题，可选修复）**：
1. [问题描述] - 影响范围：[说明] - 建议方案：[说明]

### 优化建议

#### 短期优化（建议在下一版本修复）

1. **[问题领域]**
   - 问题：[具体问题描述]
   - 影响：[影响分析]
   - 建议：[优化方案]
   - 工作量：[预估]

#### 长期优化（可在后续版本考虑）

1. **[问题领域]**
   - 问题：[具体问题描述]
   - 影响：[影响分析]
   - 建议：[优化方案]

## 评审结论

### 得分评级

- **≥8.5分**：优秀，可以直接进入发布准备
- **7.0-8.4分**：良好，建议优化后发布
- **6.0-6.9分**：需要优化，建议优化主要问题
- **<6.0分**：必须优化，需要大幅改进

### 下一步建议

基于当前得分 X.X 分，建议：
[具体建议]
```

## 质量标准

### 优秀（≥8.5分）

- 需求完整，覆盖全面
- 描述清晰，无歧义
- 业务逻辑合理完整
- 用户价值明确
- 文档质量高
- 可以直接进入发布准备

### 良好（7.0-8.4分）

- 需求基本完整
- 描述基本清晰
- 业务逻辑基本合理
- 有明确的用户价值
- 文档质量良好
- 建议优化后发布

### 需要优化（6.0-6.9分）

- 需求不够完整
- 部分描述不清晰
- 业务逻辑有不合理之处
- 用户价值不够突出
- 文档质量一般
- 建议优化主要问题

### 必须优化（<6.0分）

- 需求缺失较多
- 描述模糊或有歧义
- 业务逻辑存在严重问题
- 用户价值不明确
- 文档质量较差
- 必须大幅改进

## 质量检查清单

- [ ] 是否对五个维度都进行了评估
- [ ] 评分是否客观公正
- [ ] 问题描述是否具体明确
- [ ] 改进建议是否可操作
- [ ] 优先级划分是否合理
- [ ] 是否给出了明确的结论
- [ ] 是否提供了下一步建议

## 完成确认

当评审报告创建完成后，我会：

1. 向您展示评审报告的核心内容
2. 说明综合得分和主要问题
3. 征求您对评审结果的意见
4. 确认是否需要进入优化阶段
5. 等待您的明确决定

## 注意事项

- 评审要客观公正，基于事实
- 评分要有依据，不能主观臆断
- 问题要具体明确，不能泛泛而谈
- 建议要可操作，提供具体方案
- 优先级要准确，反映问题严重程度
- 评审结论要明确，给出清晰建议

## 评审示例

### 评审概要示例

```markdown
## 评审概要

- **评审时间**：2025-10-24
- **评审版本**：draft.md v1.0
- **综合得分**：7.2分（满分10分）
- **评审结论**：良好，建议优化后发布

## 评分详情

### 1. 需求完整性（25%）

| 评估项 | 权重 | 得分 | 说明 |
|--------|------|------|------|
| 功能覆盖度 | 10% | 8.0 | 覆盖了核心功能，但缺少供应商自助注册场景 |
| 边界条件 | 8% | 7.5 | 定义了主要边界，但未明确数据迁移边界 |
| 异常处理 | 7% | 6.5 | 考虑了基本异常，但网络异常处理不够详细 |
| **小计** | **25%** | **7.3** | |

**优点**：
- 核心功能覆盖完整，主要业务场景都已考虑
- 边界定义基本清晰

**问题**：
- 缺少供应商自助注册场景的描述
- 数据迁移边界未明确
- 网络异常处理规则不够详细

**建议**：
- 补充供应商自助注册场景的需求描述
- 明确数据迁移的范围和方式
- 完善网络异常的处理规则和用户提示
```

### 主要问题示例

```markdown
## 主要问题

**P0（严重问题，必须修复）**：

1. **供应商评级算法未明确**
   - 影响范围：影响供应商管理核心功能
   - 建议方案：补充评级算法的计算规则和权重分配

**P1（重要问题，建议修复）**：

1. **询价超时处理规则不清晰**
   - 影响范围：影响询价协同的用户体验
   - 建议方案：明确超时时间和超时后的处理逻辑

2. **价格对比维度不够全面**
   - 影响范围：影响价格对比的决策价值
   - 建议方案：补充质量、交期等维度的综合对比

**P2（次要问题，可选修复）**：

1. **统计报表需求描述过于简单**
   - 影响范围：影响绩效管理的可用性
   - 建议方案：详细描述报表的维度和指标
```

## 推进到下一阶段

当评审完成后，根据得分使用以下方式自然推进：

**得分≥8.5分**：
"评审完成，综合得分8.5分以上，PRD质量优秀！可以直接进入发布准备阶段，准备制作最终交付版本吗？"

**得分6.0-8.4分**：
"评审完成，综合得分7.2分，PRD质量良好但有改进空间。我已经列出了主要问题和优化建议，要不要开始优化提升PRD质量？"

**得分<6.0分**：
"评审完成，综合得分5.8分，PRD存在较多问题需要改进。我已经详细列出了问题清单和优化方案，建议进行全面优化，您看如何？"
