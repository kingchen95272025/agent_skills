# 第三阶段：文档撰写

## 阶段目标

基于产品规划创建完整的B端供应链PRD文档，详细描述功能需求、界面设计、业务规则和验收标准。

## 前置条件

- 已完成需求调研和产品规划阶段
- 存在 `.claude/prd/{功能名}/research.md` 文件
- 存在 `.claude/prd/{功能名}/architecture.md` 文件
- 产品规划方案已获得用户认可

## 工作内容

### 1. 基于需求调研和产品规划文档撰写PRD

- 综合需求调研和产品规划的内容
- 按照标准PRD模板组织文档结构
- 详细描述每个功能模块的需求细节
- 补充界面设计和交互说明
- 定义业务规则和验收标准

### 2. 创建PRD文档草稿

创建 `.claude/prd/{功能名}/draft.md`，严格按照标准PRD模板结构撰写。

## PRD文档标准结构

请参考 [B端供应链PRD模板](../reference/PRD_TEMPLATE.md) 获取完整的文档结构和撰写规范。

### 核心章节

1. **版本迭代规划** - 版本计划和里程碑
2. **业务背景与目标** - 项目背景、用户场景、业务目标
3. **业务名词** - 关键业务术语定义
4. **流程图** - 业务流程、系统流程、数据流程
5. **功能需求详述与界面设计** - 详细的功能说明和界面设计
6. **数据模型** - 核心实体定义和关系图
7. **验收标准** - 功能验收的标准和测试方法

## 撰写要求

### 使用供应链专业术语

- 采购管理：采购申请、采购订单、供应商评估、合同管理
- 库存管理：库存周转、安全库存、ABC分类、库存预警
- 物流管理：运输管理、配送路线、运费结算、货物跟踪
- 供应商协同：订单协同、发货通知、对账结算、绩效评估

### 每个功能明确业务价值和ROI

为每个功能模块说明：

- **业务价值**：解决什么问题，带来什么收益
- **投入产出比**：预估的成本和收益对比
- **优先级理由**：为什么要优先做这个功能

### 预留图片位置和插入提示

在需要插入图片的地方使用占位符：

```markdown
![页面原型](./images/供应商管理页面.png)
> 📋 **提示**：粘贴供应商管理页面原型图
```

### 关注敏捷迭代和现有系统集成

- **功能原子化**：每个功能点可独立开发、测试、上线
- **最小侵入**：减少对现有系统的改动
- **向下兼容**：确保新功能不影响现有业务
- **数据一致**：新旧系统数据保持一致

## 功能描述标准格式

### 5.X [功能模块名]

**功能概述**：[功能的整体描述和业务价值]

**用户故事**：作为[角色]，我希望[功能]，以便于[价值]

**页面布局**：
![页面原型](./images/页面原型.png)
> 📋 **提示**：粘贴页面原型图

**界面及交互说明**：

##### 5.X.1 页面说明

用户登录系统BU - 供应商平台，点击一级菜单供应商管理 --- 二级菜单供应商列表 --- 三级菜单进入该列表页

##### 5.X.2 筛选查询区

| 字段名称 | 组件 | 提示文本 | 字段说明 |
|----------|------|----------|----------|
| 供应商名称 | 输入框 | 请输入 | 1. 支持模糊查询<br>2. 最少输入2个字符 |

##### 5.X.3 列表字段说明

| 字段名称 | 字段说明 |
|----------|----------|
| 供应商编码 | 系统自动生成 |

##### 5.X.4 列表操作说明

| 操作项 | 说明 |
|--------|------|
| 新增 | 1. 点击【新增】按钮<br>2. 弹出新增表单<br>3. 填写必填项后提交 |

**业务规则**：

- **数据验证规则**：供应商编码唯一性校验、联系方式格式校验
- **权限控制规则**：普通用户只能查看，管理员可编辑
- **状态流转规则**：新建→审核→启用→禁用的状态流转
- **异常处理规则**：网络异常时显示离线缓存数据

**验收标准**：

| 验收项目 | 验收标准 | 测试方法 |
|----------|----------|----------|
| 功能完整性 | 所有用户故事场景正常运行 | 手工测试+自动化测试 |
| 性能要求 | 页面加载时间<2秒 | 性能测试工具验证 |

## 输出标准

### 文档完整性

- [ ] 所有章节都已完成
- [ ] 每个功能都有详细描述
- [ ] 界面设计说明清晰
- [ ] 业务规则定义准确
- [ ] 验收标准明确可测

### 文档质量

- [ ] 使用专业的供应链术语
- [ ] 逻辑清晰，结构合理
- [ ] 描述准确，无歧义
- [ ] 图表完整，说明清楚
- [ ] 格式规范，易于阅读

### 与前序文档一致性

- [ ] 与需求调研结果一致
- [ ] 与产品规划方案一致
- [ ] 功能优先级保持一致
- [ ] 业务目标保持一致

## 质量检查清单

- [ ] 版本迭代规划是否清晰
- [ ] 业务背景和目标是否准确
- [ ] 业务名词定义是否完整
- [ ] 流程图是否清晰完整
- [ ] 功能需求描述是否详细
- [ ] 界面设计说明是否充分
- [ ] 数据模型是否合理
- [ ] 验收标准是否明确
- [ ] 是否预留了图片位置
- [ ] 是否符合敏捷开发原则

## 完成确认

当PRD文档草稿创建完成后，我会：

1. 向您展示PRD文档的核心内容
2. 说明每个功能模块的设计思路
3. 征求您对PRD内容的意见和建议
4. 确认PRD是否覆盖了所有关键业务场景
5. 等待您的明确认可后进入评审阶段

## 注意事项

- PRD撰写要基于需求调研和产品规划
- 要使用供应链行业专业术语
- 要详细描述界面设计和交互逻辑
- 要明确定义业务规则和验收标准
- 要预留图片位置便于后续插入
- 不涉及技术实现细节和数据库设计

## 常见问题

### Q: PRD应该写到什么程度的细节？

A: PRD应该详细到：
- 开发人员能够理解要做什么功能
- 设计师能够设计界面原型
- 测试人员能够编写测试用例
- 产品运营能够理解业务逻辑

但不应该包括：
- 具体的技术实现方案
- 数据库表结构设计
- API接口定义
- 代码实现细节

### Q: 如何平衡文档详细度和敏捷开发？

A: 建议采用：
- **核心功能详细描述**：P0和P1功能要详细描述
- **扩展功能简要说明**：P2和P3功能可以简要说明
- **支持渐进式完善**：随着开发推进，补充完善细节
- **保持文档最新**：及时更新PRD反映最新决策

### Q: 如何处理需求变更？

A: 建议：
- 在PRD中记录变更历史
- 说明变更原因和影响范围
- 更新相关的功能描述
- 重新评审和确认

## 推进到下一阶段

当PRD文档撰写完成并获得用户认可后，使用以下方式自然推进：

"供应链PRD文档已完成，是否覆盖了关键业务场景？准备好进行需求评审了吗？"
