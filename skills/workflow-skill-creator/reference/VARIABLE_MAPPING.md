# 模板变量映射表

## 说明

本文档列出了从通用六阶段工作流模板（PROMPT_TEMPLATE.md）生成具体Workflow Skill时需要替换的所有变量及其替换规则。

## 变量分类

### 1. 基础变量

这些变量定义了Skill的基本身份和定位。

| 变量名 | 描述 | 示例值 | 来源 |
|--------|------|--------|------|
| `{领域名}` | 专业领域名称 | AI写作、产品需求、代码开发 | requirements.md - 领域与角色 |
| `{角色名}` | Skill的角色名称 | Writer、PRD生成器、Kiro | requirements.md - 角色名称 |
| `{专业领域}` | 具体专业领域 | 写作、产品管理、开发 | requirements.md - 专业领域 |
| `{输入类型}` | 用户输入的原始材料 | 写作想法、产品需求、功能想法 | requirements.md - 输入类型 |
| `{输出类型}` | 最终交付成果 | 文档内容、PRD文档、代码实现 | requirements.md - 输出形式 |

### 2. 用户相关变量

这些变量描述目标用户和使用场景。

| 变量名 | 描述 | 示例值 | 来源 |
|--------|------|--------|------|
| `{目标用户}` | 主要服务对象 | 创作者、产品经理、开发者 | requirements.md - 目标用户 |
| `{背景特征}` | 用户的专业背景 | 写作背景、业务背景、技术背景 | requirements.md - 用户特征 |
| `{类比对象}` | 用于类比的角色 | 专业编辑、资深产品经理、同事 | requirements.md - 沟通特色 |
| `{交互特色}` | 沟通风格 | 轻松友好、专业严谨、协作式 | requirements.md - 交互风格 |
| `{价值主张描述}` | 核心价值主张 | 帮助您进入最佳创作状态 | requirements.md - 核心价值主张 |

### 3. 工作流相关变量

这些变量定义了工作流的结构和流程。

| 变量名 | 描述 | 示例值 | 来源 |
|--------|------|--------|------|
| `{目录名}` | 文件存储目录 | writers、prd、specs | 根据Skill性质定义 |
| `{流程名称}` | 工作流程总称 | 创作流程、需求分析流程、开发流程 | workflow_design.md |
| `{需求类型}` | 用户提出的需求类型 | 写作需求、产品需求、功能需求 | requirements.md |
| `{核心动作}` | 工作流的核心动作 | 写作、分析、开发 | requirements.md |
| `{主题名}` | 具体任务的主题 | 文章主题、需求主题、功能名称 | 用户实际输入 |

### 4. 六阶段变量

每个阶段都有一组对应的变量。

#### 阶段通用变量模式

对于每个阶段（X = 1-6），都有以下变量：

| 变量模式 | 描述 | 来源 |
|----------|------|------|
| `{阶段X名称}` | 阶段的名称 | workflow_design.md - 阶段设计表 |
| `{阶段X描述}` | 阶段的简短描述 | workflow_design.md - 核心目标 |
| `{阶段X动作}` | 进入阶段的动作描述 | workflow_design.md - 触发条件 |
| `{阶段X成果}` | 阶段的输出成果 | workflow_design.md - 输出成果 |
| `{阶段X文件}` | 对应的文件名（不含.md） | workflow_design.md - 文件名 |
| `{阶段X确认问句}` | 完成时的自然确认方式 | workflow_design.md - 确认方式 |

#### 具体示例（Writer案例）

| 变量名 | Writer的值 |
|--------|-----------|
| `{阶段1名称}` | 内容构思 |
| `{阶段1描述}` | 明确写作主题和核心思路 |
| `{阶段1动作}` | 进行内容构思 |
| `{阶段1成果}` | 构思文档 |
| `{阶段1文件}` | concept |
| `{阶段1确认问句}` | 构思清晰了，准备好设计大纲了吗？ |

### 5. 文件变量

这些变量定义了工作流中生成的文件名。

| 变量名 | 描述 | 示例值 | 说明 |
|--------|------|--------|------|
| `{文件1}` | 第1阶段文件名 | concept、requirements、analysis | 不含.md扩展名 |
| `{文件2}` | 第2阶段文件名 | outline、design、plan | |
| `{文件3}` | 第3阶段文件名 | draft、document、implementation | |
| `{文件4}` | 第4阶段文件名 | review（固定） | 评估阶段固定 |
| `{文件5}` | 第5阶段文件名 | optimized、improved | 通常与文件3相关 |
| `{文件6}` | 第6阶段文件名 | final（固定） | 交付阶段固定 |

### 6. 评估相关变量

这些变量定义了第4阶段的评估体系。

| 变量名 | 描述 | 示例值 | 来源 |
|--------|------|--------|------|
| `{评估类型}` | 评估的类型名称 | 质量复核、需求评审、代码复核 | workflow_design.md |
| `{维度1}`-`{维度N}` | 评估维度名称 | 内容质量、结构逻辑、语言表达 | workflow_design.md - 评估维度 |
| `{权重1}`-`{权重N}` | 维度权重百分比 | 30、25、25、20 | workflow_design.md - 权重 |
| `{评估内容1}`-`{评估内容N}` | 维度的评估要点 | 准确性、深度、价值等 | workflow_design.md - 评估内容 |

#### 评估维度示例（Writer案例）

| 维度 | 权重 | 评估内容 |
|------|------|----------|
| 内容质量 | 30% | 准确性、深度、价值 |
| 结构逻辑 | 25% | 组织、流畅、连贯 |
| 语言表达 | 25% | 清晰、专业、易读 |
| 用户体验 | 20% | 实用性、可操作性 |

### 7. 工作方式变量

这些变量描述AI的工作风格和态度。

| 变量名 | 描述 | 示例值 |
|--------|------|--------|
| `{工作风格描述}` | 协作方式和风格 | 轻松、友好、专业、严谨 |
| `{领域特点描述}` | 领域的特殊性 | 写作虽然个人化、编程虽然复杂 |
| `{积极态度表达}` | 正面态度 | 但我们不需要让它变得更有压力 |
| `{服务特色}` | 提供的独特服务 | 解决方案导向的建议、专业的指导 |
| `{态度特征}` | 工作态度 | 保持积极乐观、严谨专业 |
| `{工作状态}` | 期望的工作状态 | 最佳的编程状态、高效的创作状态 |
| `{流程类型}` | 流程的性质 | 开发流程、创作过程、分析流程 |
| `{体验描述}` | 用户体验 | 感觉流畅而自然、高效而愉悦 |

### 8. 其他辅助变量

| 变量名 | 描述 | 示例值 |
|--------|------|--------|
| `{核心概念名称}` | 工作流的核心概念 | 文章、需求、功能 |
| `{示例名称}` | kebab-case格式示例 | user-authentication、api-design |
| `{动作类型}` | 用户常见动作 | 写作、分析、开发、设计 |
| `{成果类型}` | 最终成果类型 | 文章、文档、代码、方案 |
| `{资源搜集要求}` | 预备工作要求 | 了解写作风格、理解业务背景 |
| `{关键信息类型}` | 需要了解的信息 | 目标读者、业务逻辑、技术架构 |
| `{上下文类型}` | 上下文要求 | 写作背景、业务上下文、代码上下文 |

## 变量替换流程

### 步骤1：提取基础信息

从 `requirements.md` 提取：
- 领域、角色、用户相关变量
- 输入输出类型
- 价值主张

### 步骤2：提取流程设计

从 `workflow_design.md` 提取：
- 六阶段的所有变量
- 评估维度和权重
- 确认方式

### 步骤3：系统化替换

1. 先替换基础变量（领域名、角色名等）
2. 再替换六阶段变量
3. 然后替换评估变量
4. 最后替换辅助变量

### 步骤4：语义检查

- 确保替换后语句通顺
- 检查是否有遗漏的变量
- 验证逻辑连贯性

## 使用示例

### 示例1：替换开场白

**模板原文**：
```
您好！我是{角色名}，您的AI{专业领域}助手。我将帮助您将{输入类型}系统化地转变为高质量的{输出类型}。
```

**Writer案例替换**：
```
您好！我是Writer，您的AI写作助手。我将帮助您将写作想法系统化地转变为高质量的文章内容。
```

**Kiro案例替换**：
```
您好！我是Kiro，您的AI开发助手。我将帮助您将功能想法系统化地转变为高质量的Laravel后端代码实现。
```

### 示例2：替换阶段描述

**模板原文**：
```
1. **{阶段1名称}** - {阶段1描述}
2. **{阶段2名称}** - {阶段2描述}
```

**Writer案例替换**：
```
1. **内容构思** - 明确写作主题和核心思路
2. **大纲设计** - 规划文章结构和逻辑框架
```

**PRD案例替换**：
```
1. **需求理解** - 深度理解产品需求和业务背景
2. **方案设计** - 设计产品功能和用户体验
```

### 示例3：替换评估维度

**模板原文**：
```
- **{维度1}评估** ({权重1}%权重)：{评估内容1}
- **{维度2}评估** ({权重2}%权重)：{评估内容2}
```

**Writer案例替换**：
```
- **内容质量评估** (30%权重)：准确性、深度、价值
- **结构逻辑评估** (25%权重)：组织、流畅、连贯
```

## 变量映射验证清单

在完成变量替换后，使用此清单验证：

- [ ] 所有 `{变量名}` 格式的占位符都已替换
- [ ] 替换后的句子语义通顺
- [ ] 六个阶段的变量完整且一致
- [ ] 评估维度的数量、权重正确
- [ ] 文件名变量与阶段设计一致
- [ ] 确认问句自然友好
- [ ] 所有示例中的变量也已替换

## 常见问题

### Q1: 如何确定目录名？

**A**: 根据Skill的用途：
- 内容创作类：writers、content、articles
- 产品管理类：prd、requirements、products
- 技术开发类：specs、code、development
- 数据分析类：analysis、data、reports

### Q2: 评估维度应该如何设计？

**A**: 根据领域特征选择3-5个维度：
- 内容类：质量、结构、语言、体验
- 技术类：需求符合度、设计一致性、代码规范、代码质量
- 产品类：准确性、完整性、可行性、创新性

### Q3: 确认问句如何设计？

**A**: 应该：
- 自然、友好，避免机械
- 总结当前阶段成果
- 引导进入下一阶段
- 给用户选择权

**好的示例**：
- "构思清晰了，准备好设计大纲了吗？"
- "需求分析完成，我们可以进入设计阶段了吗？"

**不好的示例**：
- "是否继续？"（太简单）
- "请确认是否进入下一阶段。"（太机械）

## 总结

变量映射是从通用模板生成具体Skill的核心环节。通过系统化的变量替换，可以快速创建专业、规范的Workflow Skill，同时保证质量和一致性。
